<!DOCTYPE html>
<html lang="de">
<head>

<!-- Zentrale Navigation + Footer -->
<link rel="stylesheet" href="/css/layout.css">
<script src="/js/layout.js" defer></script>

  
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fakten statt Mythen: Timeline</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(120deg, #a2c1d8, #c3d9e8);
  color: #001a33; /* dunkler Text für bessere Lesbarkeit */
  overflow-x: hidden;
  font-size: 19px;
  text-shadow: 0.5px 0.5px 1px #000a14; /* minimaler Schatten */
  opacity: 0;
  transition: opacity 0.6s ease-in-out; /*fade in */
}


header { text-align:center; padding:30px; }
header h1 { margin:0; font-size:2.8em; }
header p { 
  margin-top:10px; font-size:1.4em; 
  color:#001a33; 
  text-shadow: 0.5px 0.5px 1px #000a14; 
}

#controls { text-align:center; margin:20px; }
#controls button { 
  background-color:#0070ba; color:#fff; border:none; 
  padding:12px 22px; margin:5px; border-radius:6px; cursor:pointer; 
  font-size:1.1em; text-shadow:0.5px 0.5px 1px #000a14;
}
#controls button:hover { background-color:#005a94; }

#timeline-wrapper { 
  height: calc(100vh - 200px); /* genug Platz für Header + Footer */
  width:100%; height:91vh; overflow:hidden; position:relative; cursor:grab; 
  margin:20px 0; border:1px solid rgba(0,0,0,0.2); 
}
#timeline { display:flex; height:130%; transform-origin:0 0; user-select:none; }
#timeline img { height:100%; display:block; flex-shrink:0; object-fit:cover; -webkit-user-drag:none; user-drag:none; }


</style>
</head>

<body>
<!-- NAVIGATION UND FOOTER werden über layout.js geladen -->
<div id="layout-nav"></div>

<header>
  <h1>Fakten statt Mythen: Die Geschichte im Zeitstrahl</h1>
  <p>Eine Übersicht, die vergleichen lässt und Wahrheit ans Licht bringt</p>
</header>

<div id="controls">
  <button onclick="setView(1)">Ansicht Anfang</button>
  <button onclick="setView(5)">Ansicht Sintflut</button>
  <button onclick="setView(9)">Ansicht Zeitenwende</button>
  <button onclick="setView(13)">Ansicht Moderne</button>
</div>

<div id="timeline-wrapper">
  <div id="timeline"></div>
</div>

<div id="minimap-wrapper"></div>

<!-- ================== WICHTIGE PUNKTE (AKKORDEON) ================== -->
<div id="important-points">
  <h2>Wichtige Punkte, die mit einer faktengefüllten Timeline auffallen:</h2>

  <!-- Punkt 1 -->
  <details open class="point point1">
    <summary><strong>1. Eine <u>hohe Intelligenz</u> kann der Antike nicht abgesprochen werden!</strong></summary>
    <ul>
      <li><strong>Archäologie:</strong>
        <ul>
          <li>Steine <strong>weit über 1000 Tonnen</strong> wurden bewegt</li>
          <li>Fast unmögliche Schnitte in härtesten Fels</li>
          <li>Nahezu perfekte Symmetrien bei gigantischen Monumenten</li>
          <li>Ausgeklügelte Wasserversorgungs- und Lüftungssysteme</li>
          <li>Der Globus war bereits 1500+ v. Chr. weitgehend kartographiert (Polynesier)</li>
          <li>Tiefgehende Sternkunde in vielen Bauwerken ersichtlich</li>
          <li>Bauwerke für viele Tausende Jahre konzipiert, nachhaltiger als heute</li>
          <li>Keine giftige Chemie - stattdessen Ausrichtung auf Gesundheit</li>
          <li>Nutzung von elektrischem Strom sehr wahrscheinlich (Batterienfunde)</li>
          <li>Lebendoperationen am Schädel nachgewiesen (geheilte aufgebohrte Knochen)</li>
        </ul>
      </li>
      <li><strong>Schriftliche Überlieferungen:</strong>
        <ul>
          <li>Viele Schriften der Antike mit eindeutig hoher Intelligenz vorhanden (vergleichbar zu heute und sogar höher, dazu in allen dokumentierten Zeiten Genies in der Geschichte vorhanden)
          <li>Die Bibel enthält über 200 Sprachstile – einzigartig in Schönheit, Sprache, Poesie und Vielfalt</li>
          <li>Die alten Bibelbücher sind selbst nach modernen Kritikern ca. 2300 Jahre alt
            <ul>
              <li>Wieso entstand das Buch mit der größten Weisheit und Attraktivität in der Antike?</li>
              <li>Wieso gibt es heute noch keinen anderen Bestseller dieser Reichweite?</li>
              <li>Gemäß der Bibel entstanden die ersten Schriften vielleicht sogar direkt bei den Zeitzeugen (Adam, Noah, Abraham usw. ca. 4000 v. Chr.); spätestens bei Mose ca. 1600 v. Chr. kompiliert und/oder inspiriert.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>Fazit: Dummheit ist daher völlig ausgeschlossen! Die dokumentierte, sicher bekannte Zeit zeugt eindeutig von hoher Intelligenz!</strong> Es geht eher Richtung „intelligenter als heute“ – also nicht in die Richtung von Affenabstammung. Wenn nun die Leute so schlau waren, wieso sollte es dann keine außerbiblischen Chronologien geben, die eindeutige Rückrechnungen zulassen?</li>
    </ul>
  </details>

  <!-- Punkt 2 -->
  <details class="point point2">
    <summary><strong>2. Eine <u>hohe Bevölkerungsvermehrung</u> kann der Antike nicht abgesprochen werden!</strong></summary>
    <ul>
      <li>Seit 1950 wurde die Anzahl an Menschen "vollständiger" geschätzt. Die biblischen Zahlen passen genau dazu:
        <ul>
          <li>Wieso können wir den Antiken dann keine höhere Überlebensfähigkeit zutrauen? Wenn einheitlich von wesentlich mehr Menschen dokumentiert wird, ist kein anderer Schluss sinnvoll und logisch!</li>
        </ul>
      </li>
      <li>Wenn man schlau ist, kommt man bei Krankheiten schneller auf die Lösung der Ursache!</li>
      <li>Moderne Schätzungen z.B. bei der Pest 1350 n. Chr. zeigen, dass die modern angenommene Bevölkerungskurve „geschönt“ ist.
        <ul>
          <li>Bei 1/3 Toter müsste ein tiefer Einschnitt über lange Zeit entstehen, statt direkt ein "Sprung nach oben" und weitere langsame Steigung wie davor</li>
        </ul>
      </li>
      <li>Die Bibel passt zum Durchschnitt außerbiblischer Armeegrößen
        <ul>
          <li>Moderne Historiker reduzieren fast alle Zahlen um das 10fache! (teils über Faktor 100) Angeblich "konnten die nicht über 50.000 zählen".</li>
          <li>Durch die bereits offensichtlich höhere Intelligenz ist selbstverständlich, dass sie zählen konnten!
            <ul>
              <li>Die Bibel gibt die einfache Lösung: „Oberste über 1000“: 1000 Oberste ergibt also 1.000.000 Soldaten – wer nicht auf so eine primitive Idee kommt, kann sich nicht klüger nennen, oder?</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Innerhalb von 500 Jahren kommen und gehen ganze Nationen!
        <ul>
          <li>Z.B. existierten vor 500 Jahren nicht einmal Russland und die USA</li>
          <li>Nordisrael bestand nur ca. 250 Jahre (mit 21 Herrschern)</li>
          <li>Südisrael („Juda“) bestand nur ca. 390 Jahre (mit 19 Herrschern)</li>
          <li>In dieser kurzen Zeit gab es viele Schlachten mit teils 400.000+ Toten
            <ul>
              <li>Von einem viele-Millionen-Volk auf Zehntausende vernichtet (modern erneut: Holocaust 6.000.000 Juden getötet)</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>Fazit: Die Bibel enthält eine deutlich realistische Geschichtsschreibung!</strong> Solange die Menschen früher nicht dumm waren, kann man ihnen die dokumentierte Vermehrung nicht absprechen!</strong></li>
    </ul>
  </details>

  <!-- Punkt 3 -->
  <details class="point point3">
    <summary><strong>3. Eine <u>höhere Lebenserwartung</u> kann folglich ebenso nicht abgesprochen werden!</strong></summary>
    <ul>
      <li>Außerbiblisch gehen Aufzeichnungen Richtung höhere Lebensalter als heute
        <ul>
          <li>Sumerer sind mit über 40.000 Jahre an der Spitze der Übertreibungen</li>
        </ul>
      </li>
      <li>Wenn die nicht besonders dumm sein können, macht nur der biblische Bericht Sinn:
        <ul>
          <li>Gemäß wissenschaftlichen Schätzungen könnten Menschen bei Reparatur aller Mutationen an die 1000 Jahre leben – Punktlandung zur Bibel!</li>
        </ul>
      </li>
        <li>Architektur mit weit über 1000 Jahre Haltbarkeit, zeigt deutlich in die Richtung, dass man viel mehr als 100 Jahre voraus denkt!
        <ul>
          <li>Solche Entwicklungen und Bauweisen passen perfekt zum biblischen Weltbild, bei dem anfangs 900 Jährige Wissen weitergetragen haben</li>
        </ul>
      <li>Laut Bibel gab es anfangs nur pflanzliche Nahrung und viel Bewegung.
        <ul>
          <li>Bis heute eine der zuverlässigsten Lösungen für die meisten Gesundheitsprobleme!</li>
        </ul>
      </li>
    </ul>
  </details>

  <!-- Punkt 4 -->
  <details class="point point4">
    <summary><strong>4. Aufgrund von weit verbreiteten „Mythen“ kann die Wahrheit nicht gleich mit über Bord geworfen werden!</strong></summary>
    <ul>
      <li>Wenn alle Quellen in eine für uns unwahrscheinliche, aber "bessere" Richtung zeigen, deutet es ehrlicherweise an, dass wir heute „schlechter“ sind, oder?</li>
      <li>Man sollte den eigenen Stolz überwinden und sich kritisch hinterfragen. Die Moderne muss nicht besser sein als die „dummen Leute früher“.
        <ul>
          <li>Diese menschliche negative Eigenschaft wird nur in der Bibel bloßgestellt – passend zu Wahrheit</li>
        </ul>
      </li>
    </ul>
  </details>
  
  <!-- Punkt 5 -->
  <details class="point point5">
    <summary><strong>5. <u>Wahrheit</u> ist in der Bibel das zentrale Thema. Passend zu diesen Berichten erkennt man die maßlosen Übertreibungen aller übrigen „gottlosen“ Völker!</strong></summary>
    <ul>
      <li>Wahrheit ist in der Bibel eine durchgängige <strong>Grundvoraussetzung</strong>:
        <ul>
          <li>in der Hoffnung des ewigen Lebens, das <strong>Gott, der nicht lügen kann</strong>, verheißen hat vor ewigen Zeiten; Tit 1,2</li>
          <li>Du sollst <strong>kein falsches Zeugnis ablegen</strong> gegen deinen Nächsten. 2. Mo 20,16</li>
          <li>Ihr sollt <strong>nichts hinzutun</strong> zu dem Wort, das ich euch gebiete, und sollt <strong>nichts davon wegnehmen</strong>, damit ihr die Gebote des HERRN, eures Gottes, haltet, die ich euch gebiete. 5. Mo 4,2</li>
          <li>Das ganze Wort, das ich euch gebiete, das sollt ihr halten, es zu tun; du sollst <strong>nichts hinzufügen und nichts davon wegnehmen</strong>. 5. Mo 13,1-2</li>
          <li>Wenn jemand <strong>zu diesen Dingen hinzufügt</strong>, so wird Gott ihm die Plagen hinzufügen, die in diesem Buch geschrieben sind; und wenn jemand von den Worten des Buches dieser Weissagung <strong>wegnimmt</strong>, so wird Gott sein Teil wegnehmen von dem Baum des Lebens und aus der heiligen Stadt, wovon in diesem Buch geschrieben ist. Off 22,18-19</li>
        </ul>
      </li>
      <li><strong>Fazit: Es gibt keinen Beweis, dass die biblischen Ereignisse gelogen oder unrealistisch sind. Die Summe der Bibel ist unübertreffbar sicher!</strong> (Nicht jede Übersetzung, sondern die genauesten! In DE Elberfelder und Schlachter)</li>
    </ul>
  </details>
  
  <!-- Punkt 6 -->
  <details class="point point6">
    <summary><strong>6. Biblische <u>Berichte passen zu</u> den zeitgemäßen historischen <u>Ereignissen</u>!</strong></summary>
    <ul>
      <li>Schreibweise, Sprachen, Intelligenz, Beobachtungen, Redensarten, Herrscher, Herrscherbezeichnungen, Namen von Personen und Länder zeitübergreifend (z.B. Hiob, Mose, Abraham, Daniel, usw.)</li>
    </ul>
  </details>

  <!-- Punkt 7 -->
  <details class="point point7">
    <summary><strong>7. <u>Prophetien/Prädiktionen</u> sind fast auf jeder Seite der Bibel zu finden und <u>bestätigen</u> offensichtlich den einen <u>Gott</u>, der außerhalb von Zeit existiert!</strong></summary>
    <ul>
      <li>Die Menge an Prophetie ist ohne Gott unerklärbar!
        <ul>
          <li>Z.B. Daniel: Selbst wenn das Buch 200 v. Chr. geschrieben wurde, reichen seine Vorhersagen auf den Tag genau auf Jesu Kommen als Fürst 32 n. Chr. Viele weitere Ereignisse für 2025+ n. Chr. stehen darin.</li>
          <li>Über 3000 bereits erfüllte Vorhersagen sind in der Bibel. Dabei gibt es keine falsche Vorhersage! ("Nur genug vorhersagen, dann wird etwas eintreffen" trifft hier nicht zu! Genauso wenig "selffullfilling": Wer würde alle Vorhersagen zum Messias erfüllen wollen und können?)
            <ul>
              <li>Ca. 400 über Jesus Christus erfüllt</li>
              <li>&gt;180 über die heutige Zukunft erfüllt</li>
            </ul>
          </li>
          <li>Bei Eva wird bereits der Messias angekündigt</li>
          <li>Die ersten 10 Patriarchen-Namen ab Adam beinhalten in Reihe <strong>das Evangelium Jesu</strong> (ca. 4000-2600 v. Chr.!)</li>
          <li>Alle folgenden Berichte und Details entsprechen und erweitern durchgängig diesen Grundgedanken, ohne, dass sich die Schreiber absprechen konnten (geschweige denn alles Vorherige verstanden!)
            <ul>
              <li>Und das, obwohl für Rabbis das Evangelium eine Gotteslästerung ist!</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>Fazit: Ohne „diesen“ Gott nicht erklärbar!</strong></li>
    </ul>
  </details>
  
  <!-- Punkt 8 -->
  <details class="point point8">
    <summary><strong>8. Die <u>Übereinstimmung der einzelnen Bibelbücher</u> ist übernatürlich!</strong></summary>
    <ul>
      <li>Einzigartiger Weise gibt es eine <u>vollständige und zusammenhängende Chronologie</u> von Adam bis Jesus</li>
      <li>Trotz ca. 40 Autoren, die innerhalb von ca. 4100 (min. 1700) Jahren geschrieben haben!
        <ul>
          <li>Offiziell angeblich ca. 300 Jahre, was trotzdem unmöglich ist!</li>
        </ul>
      </li>
      <li><strong>Fazit: Man muss tatsächlich ein Narr sein, um nicht an Gott zu glauben Ps 14,1</strong>
        <ul>
          <li>Das wird man mit Stolz leider automatisch: <strong>"Hochmut kommt vor dem Fall"</strong></li>
          <li><strong>So sind wir nun <u>Gesandte</u> für Christus, als ob Gott durch uns ermahnte; wir bitten an Christi statt: <u>Lasst euch versöhnen mit Gott!</u> 2. Kor 5,20</strong></li>
        </ul>
      </li>
    </ul>
  </details>

</div>

<style>
#important-points {
  max-width: 85%;
  margin: 40px auto;
  font-family: 'Georgia', 'Times New Roman', serif;
  line-height: 1.6;
  font-size: 1.3em;
  text-align: left; /* linksbündig */
}

#important-points h2 {
  font-size: 1.6em;
  margin-bottom: 25px;
  text-align: center;
}

/* Allgemeine Styles für Details */
#important-points details {
  margin-bottom: 20px; /* etwas größerer Abstand zwischen Hauptpunkten */
  padding: 15px 20px;
  border-radius: 8px;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Abwechselnde Hintergrundfarbe */
#important-points details:nth-child(even) {
  background-color: #f5f5f5;
}
#important-points details:nth-child(odd) {
  background-color: #e8f0f8;
}

/* Punkt-spezifische dezente Farben */
.point1 summary { color: #2c3e50; }
.point2 summary { color: #34495e; }
.point3 summary { color: #16a085; }
.point4 summary { color: #27ae60; }
.point5 summary { color: #2980b9; }
.point6 summary { color: #8e44ad; }
.point7 summary { color: #d35400; }
.point8 summary { color: #c0392b; }

#important-points summary {
  cursor: pointer;
  outline: none;
  font-weight: bold;
  font-size: 1.15em;
}

/* Entfernt den unerwünschten Abstand ÜBER den Listen */
/* Oberste UL in #important-points */
#important-points ul {
  margin: 0 0 1.5rem 1.25rem; /* oben:0, unten:1.5rem, links:1.25rem */
  padding: 0;
  list-style-position: inside;
}

/* Unterlisten (UL innerhalb von UL) */
#important-points ul ul {
  margin: 0 0 3rem 1.5rem; /* kleinerer Abstand für Unterlisten */
  padding: 0;
}

/* LI-Abstände */
#important-points li {
  margin: 0.2rem 0; /* Abstand zwischen Listenelementen */
  padding: 0;
}

/* Starker Abstand zwischen Kategorien (LI > UL) */
#important-points li > ul {
  margin-bottom: 0rem;
}


  
/* Optional: größere Absätze zwischen Hauptpunkten */
#important-points details + details {
  margin-top: 25px;
}


/* Ende Text */
</style>
  
  
  
<script>
// === TIMELINE-BILDER =========================================================
const wrapper = document.getElementById('timeline-wrapper');
const timeline = document.getElementById('timeline');

const totalPages = 17;
const startView = 13;
const extraMargin = 80;

for (let i = 1; i <= totalPages; i++) {
  const img = document.createElement('img');
  img.src = `/images/Seite${i}.png`;
  img.alt = `Seite ${i}`;
  timeline.appendChild(img);
}

// === ZUSTAND =================================================================
let scale = 0.7, targetScale = 0.7;
let translateX = 0, translateY = 0;
let targetTranslateX = 0, targetTranslateY = 0;
let isDragging = false, startX, startY;

// === DRAG IM HAUPTBEREICH ====================================================
wrapper.addEventListener('mousedown', e => {
  isDragging = true;
  startX = e.clientX - targetTranslateX;
  startY = e.clientY - targetTranslateY;
  wrapper.style.cursor = 'grabbing';
});
document.addEventListener('mouseup', () => {
  isDragging = false;
  wrapper.style.cursor = 'grab';
});
document.addEventListener('mousemove', e => {
  if (!isDragging) return;
  targetTranslateX = e.clientX - startX;
  targetTranslateY = e.clientY - startY;
  applyBounds();
});

// === ZOOM MIT MAUSRAD ========================================================
wrapper.addEventListener('wheel', e => {
  e.preventDefault();
  const rect = wrapper.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;
  const currentScale = scale;
  const currentTX = translateX;
  const currentTY = translateY;
  const zoomFactor = Math.exp(-e.deltaY * 0.0015);
  const newScale = Math.min(Math.max(0.3, currentScale * zoomFactor), 5);
  const contentX = (mouseX - currentTX) / currentScale;
  const contentY = (mouseY - currentTY) / currentScale;
  targetTranslateX = mouseX - contentX * newScale;
  targetTranslateY = mouseY - contentY * newScale;
  targetScale = newScale;
  applyBounds();
});

// === BEGRENZUNG ==============================================================
function applyBounds() {
  const wrapperRect = wrapper.getBoundingClientRect();
  const timelineWidth = timeline.scrollWidth * targetScale;
  const timelineHeight = timeline.scrollHeight * targetScale;
  const visibleMarginX = wrapperRect.width * 0.05;
  const visibleMarginY = wrapperRect.height * 0.05;

  if (timelineWidth <= wrapperRect.width) {
    targetTranslateX = (wrapperRect.width - timelineWidth) / 2;
  } else {
    const minX = wrapperRect.width - timelineWidth + visibleMarginX - extraMargin;
    const maxX = 0 - visibleMarginX + extraMargin;
    targetTranslateX = Math.min(maxX, Math.max(minX, targetTranslateX));
  }

  if (timelineHeight <= wrapperRect.height) {
    targetTranslateY = (wrapperRect.height - timelineHeight) / 2;
  } else {
    const minY = wrapperRect.height - timelineHeight + visibleMarginY;
    const maxY = visibleMarginY;
    targetTranslateY = Math.min(maxY, Math.max(minY, targetTranslateY));
  }
}

// === ANSICHT SETZEN ==========================================================
function setView(page) {
  const wrapperRect = wrapper.getBoundingClientRect();
  const img = timeline.children[page - 1];
  if (!img) return;
  const imgLeft = img.offsetLeft;
  const imgWidth = img.offsetWidth;
  const imgTop = img.offsetTop;
  const imgHeight = img.offsetHeight;
  targetScale = 0.7;
  targetTranslateX = wrapperRect.width / 2 - (imgLeft + imgWidth / 2) * targetScale;
  targetTranslateY = wrapperRect.height / 2 - (imgTop + imgHeight / 2) * targetScale;
  applyBounds();
}

// === MINI-MAP ================================================================
const minimapWrapper = document.getElementById('minimap-wrapper');
minimapWrapper.style.position = 'fixed';
minimapWrapper.style.bottom = '10px';
minimapWrapper.style.left = '50%';
minimapWrapper.style.transform = 'translateX(-50%)';
minimapWrapper.style.width = '250px';
minimapWrapper.style.height = '50px';
minimapWrapper.style.border = '1px solid rgba(0,0,0,0.4)';
minimapWrapper.style.background = 'rgba(0,0,0,0.3)';
minimapWrapper.style.borderRadius = '6px';
minimapWrapper.style.cursor = 'pointer';
minimapWrapper.style.overflow = 'hidden';
minimapWrapper.style.zIndex = '9999';

const minimap = document.createElement('div');
minimap.style.display = 'flex';
minimap.style.height = '100%';
minimap.style.width = '100%';
minimap.style.position = 'relative';
minimapWrapper.appendChild(minimap);

const viewRect = document.createElement('div');
viewRect.style.position = 'absolute';
viewRect.style.top = '0';
viewRect.style.left = '0';
viewRect.style.height = '100%';
viewRect.style.border = '2px solid #ffd700';
viewRect.style.boxSizing = 'border-box';
viewRect.style.background = 'rgba(255,215,0,0.1)';
viewRect.style.cursor = 'grab';
minimapWrapper.appendChild(viewRect);

// === MINIMAP-BILDER ==========================================================
for (let i = 1; i <= totalPages; i++) {
  const mini = document.createElement('img');
  mini.src = `/images/Seite${i}.png`;
  mini.style.height = '100%';
  mini.style.objectFit = 'cover';
  mini.style.flex = '1';
  mini.style.opacity = '0.7';
  mini.style.userSelect = 'none';
  mini.style.webkitUserDrag = 'none';
  mini.draggable = false;
  minimap.appendChild(mini);
}

// === KLICK & DRAG IN DER MINIMAP ============================================
let isMiniDragging = false;
let miniStartX = 0;
minimapWrapper.addEventListener('mousedown', e => {
  isMiniDragging = true;
  miniStartX = e.clientX;
});
document.addEventListener('mouseup', () => { isMiniDragging = false; });
document.addEventListener('mousemove', e => {
  if (!isMiniDragging) return;
  moveMinimapTo(e.clientX);
});
minimapWrapper.addEventListener('click', e => moveMinimapTo(e.clientX));

function moveMinimapTo(clientX) {
  const rect = minimapWrapper.getBoundingClientRect();
  const ratio = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));
  const wrapperRect = wrapper.getBoundingClientRect();
  const timelineWidth = timeline.scrollWidth * targetScale;
  targetTranslateX = -ratio * (timelineWidth - wrapperRect.width);
  applyBounds();
}

// === UPDATE DER MINIMAP =====================================================
function updateMinimap() {
  const wrapperRect = wrapper.getBoundingClientRect();
  const timelineWidth = timeline.scrollWidth * scale;
  const visibleRatio = wrapperRect.width / timelineWidth;
  const fullWidth = minimapWrapper.clientWidth;
  const rectWidth = Math.max(15, fullWidth * visibleRatio);
  const scrollRatio = -translateX / (timelineWidth - wrapperRect.width);
  const rectLeft = (fullWidth - rectWidth) * scrollRatio;
  viewRect.style.width = rectWidth + 'px';
  viewRect.style.left = rectLeft + 'px';
}

// === ANIMATION LOOP ==========================================================
function animate() {
  scale += (targetScale - scale) * 0.15;
  translateX += (targetTranslateX - translateX) * 0.15;
  translateY += (targetTranslateY - translateY) * 0.15;
  timeline.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
  updateMinimap();
  requestAnimationFrame(animate);
}
animate();

// === VERHINDERT DRAG AUF TIMELINE-IMAGES ====================================
timeline.querySelectorAll('img').forEach(img => img.ondragstart = () => false);

// === STARTPOSITION NACH LADEZEIT ============================================ wird das nicht in js schon passieren?
window.onload = () => {
  // Fade-In starten
  document.body.style.opacity = "1";

  // Timeline auf Startseite zentrieren, kleine Verzögerung für vollständiges Laden der Bilder
  setTimeout(() => {
    setView(startView);
  }, 300);
};


// === TOUCH SUPPORT ==========================================================
let touchStartDist = 0;
let lastTouchX = 0, lastTouchY = 0;

wrapper.addEventListener('touchstart', e => {
  if (e.touches.length === 1) {
    isDragging = true;
    lastTouchX = e.touches[0].clientX - targetTranslateX;
    lastTouchY = e.touches[0].clientY - targetTranslateY;
  } else if (e.touches.length === 2) {
    isDragging = false;
    touchStartDist = Math.hypot(
      e.touches[0].clientX - e.touches[1].clientX,
      e.touches[0].clientY - e.touches[1].clientY
    );
  }
});

wrapper.addEventListener('touchmove', e => {
  e.preventDefault();
  if (e.touches.length === 1 && isDragging) {
    targetTranslateX = e.touches[0].clientX - lastTouchX;
    targetTranslateY = e.touches[0].clientY - lastTouchY;
    applyBounds();
  } else if (e.touches.length === 2) {
    const dist = Math.hypot(
      e.touches[0].clientX - e.touches[1].clientX,
      e.touches[0].clientY - e.touches[1].clientY
    );
    const rect = wrapper.getBoundingClientRect();
    const zoomFactor = dist / touchStartDist;
    targetScale = Math.min(Math.max(0.3, scale * zoomFactor), 5);
    touchStartDist = dist;
    applyBounds();
  }
}, { passive: false });

wrapper.addEventListener('touchend', e => {
  if (e.touches.length === 0) isDragging = false;
});



</script>
  
<script>
function toggleBGWMenu() {
  document.querySelector(".bgw-menu").classList.toggle("show");
}

window.addEventListener("DOMContentLoaded", () => {
  let page = location.pathname.split("/").pop().replace(".html", "");
  if(page === "") page = "index";

  document.querySelectorAll(".bgw-menu a").forEach(a => {
    if (a.dataset.page === page) {
      a.classList.add("active");
    }
  });
});
</script>

    <div id="layout-footer"></div>
  
</body>
</html>
